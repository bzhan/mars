%type: module

module Chart():
begin
  ChartEL := [];
  Chart_B_st := "";
  x := 0;
  y := 0;
  Chart_st := "Chart_A";
  s := "enA";
  log("enA" + " %.3f %.3f\n",0,0);
  (
    Chart_ret := 0;
    if Chart_st == "Chart_A" then
      Chart_A_done := 0;
      y >= 1 -> (
        s := "conAB1";
        log("conAB1" + " %.3f %.3f\n",x,y);
        Chart_st == "Chart_A" -> (
          log("exA" + " %.3f %.3f\n",x,y);
          Chart_st == "Chart_A" -> Chart_st := "";
          s := "tranAB1";
          log("tranAB1" + " %.3f %.3f\n",x,y);
          Chart_st == "" -> (
            Chart_st := "Chart_B";
            log("enB" + " %.3f %.3f\n",x,y);
            x := 0;
            Chart_B_st := "Chart_B_B1";
            s := "enB1";
            log("enB1" + " %.3f %.3f\n",0,y)
          );
          Chart_A_done := 1
        )
      );
      Chart_st == "Chart_A" && Chart_A_done == 0 && x >= 1 -> (
        s := "conAB";
        log("conAB" + " %.3f %.3f\n",x,y);
        Chart_st == "Chart_A" -> (
          log("exA" + " %.3f %.3f\n",x,y);
          Chart_st == "Chart_A" -> Chart_st := "";
          s := "tranAB";
          log("tranAB" + " %.3f %.3f\n",x,y);
          Chart_st == "" -> (
            Chart_st := "Chart_B";
            log("enB" + " %.3f %.3f\n",x,y);
            x := 0;
            Chart_B_st := "Chart_B_B1";
            s := "enB1";
            log("enB1" + " %.3f %.3f\n",0,y)
          );
          Chart_A_done := 1
        )
      );
      Chart_ret := Chart_A_done
    elif Chart_st == "Chart_B" then
      Chart_B_done := 0;
      x >= 1 -> (
        Chart_st == "Chart_B" -> (
          if Chart_B_st == "Chart_B_B1" then
            Chart_B_st == "Chart_B_B1" -> Chart_B_st := ""
          else
            skip
          endif;
          Chart_st == "Chart_B" -> Chart_st := "";
          Chart_st == "" -> (
            Chart_st := "Chart_B";
            log("enB" + " %.3f %.3f\n",x,y);
            x := 0;
            Chart_B_st := "Chart_B_B1";
            s := "enB1";
            log("enB1" + " %.3f %.3f\n",0,y)
          );
          Chart_B_done := 1
        )
      );
      Chart_ret := Chart_B_done;
      Chart_ret == 0 -> (
        if Chart_B_st == "Chart_B_B1" then
          Chart_ret := 0
        else
          skip
        endif
      )
    else
      skip
    endif;
    if Chart_st == "Chart_A" then
      <x_dot = 1, y_dot = x &
        y < 1 &&
        x < 1
      >
    elif Chart_st == "Chart_B" then
      if Chart_B_st == "Chart_B_B1" then
        <x_dot = 1 & x < 1>
      else
        skip
      endif
    else
      skip
    endif
  )**
end
endmodule
system
Chart = Chart()
endsystem
