P ::= @Chart || @Chart1
Chart ::= a_S1 := 0; a_ENTRY := 0; a_A := 0; a_B := 0; a_S1 := 1; a_ENTRY := 1; wait(-1); (if a_ENTRY == 1 then done := 0; done == 0 -> (a_ENTRY := 0; a_A := 1; tri!"out_cmd"; tri!"out_cmd"; tri!"out_cmd"; tri!"out_cmd"; done := 1) elif a_A == 1 then done := 0; done == 0 -> (a_A := 0; a_B := 1; done := 1) elif a_B == 1 then skip else skip endif; wait(-1))**
Chart1 ::= y := 0; a_S1 := 0; wait(-1); (tri_event := ""; tri?tri_event; tri_event != "" -> (a_S1 := 1; y := y+1; skip))**
