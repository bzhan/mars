P ::= @DSM0 || @Chart
DSM0 ::= myglobal := [0,0]; ch_myglobal!myglobal; (ch_myglobal?myglobal; ch_myglobal!myglobal)**
Chart ::= u := 2; y := 0; a_S1 := 0; a_A := 0; a_B := 0; a_S1 := 1; a_A := 1; ch_myglobal?myglobal; y1 := 0; myglobal[1] := y1; ch_myglobal!myglobal; wait(0.1); (if a_A == 1 then done := 0; if done == 0 && u < 0 then a_A := 0; a_B := 1; ch_myglobal?myglobal; myglobal[2] := 0; ch_myglobal!myglobal; done := 1 else ch_myglobal?myglobal; myglobal[1] := myglobal[1]+1; ch_myglobal!myglobal; ch_myglobal?myglobal; y := myglobal[1]; ch_myglobal!myglobal endif elif a_B == 1 then done := 0; if done == 0 && u >= 0 then a_B := 0; a_A := 1; ch_myglobal?myglobal; y1 := 0; myglobal[1] := y1; ch_myglobal!myglobal; done := 1 else ch_myglobal?myglobal; myglobal[2] := myglobal[2]-1; ch_myglobal!myglobal; ch_myglobal?myglobal; y := myglobal[2]; ch_myglobal!myglobal endif else skip endif; wait(0.1))**
