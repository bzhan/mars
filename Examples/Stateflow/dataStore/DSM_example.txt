P ::= @DSM0 || @Chart
DSM0 ::= myglobal := [0,0]; ch_myglobal!myglobal; (ch_myglobal?myglobal; ch_myglobal!myglobal)**
Chart ::= u := 2; y := 0; a_Chart := 0; a_Chart_A := 0; a_Chart_B := 0; a_Chart := 1; a_Chart_A := 1; ch_myglobal?myglobal; y1 := 0; y1 := 0; myglobal[0] := y1; ch_myglobal!myglobal; wait(2); (if a_Chart_A == 1 then done := 0; if done == 0 && u < 0 then a_Chart_A := 0; a_Chart_B := 1; ch_myglobal?myglobal; myglobal[1] := 0; ch_myglobal!myglobal; done := 1 else ch_myglobal?myglobal; myglobal[0] := myglobal[0]+1; ch_myglobal!myglobal; ch_myglobal?myglobal; y := myglobal[0]; ch_myglobal!myglobal endif elif a_Chart_B == 1 then done := 0; if done == 0 && u >= 0 then a_Chart_B := 0; a_Chart_A := 1; ch_myglobal?myglobal; y1 := 0; y1 := 0; myglobal[0] := y1; ch_myglobal!myglobal; done := 1 else ch_myglobal?myglobal; myglobal[1] := myglobal[1]-1; ch_myglobal!myglobal; ch_myglobal?myglobal; y := myglobal[1]; ch_myglobal!myglobal endif else skip endif; wait(2))**
